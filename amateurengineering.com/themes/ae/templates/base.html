<!DOCTYPE html>
<html lang="{% block html_lang %}{{ DEFAULT_LANG }}{% endblock html_lang %}">
  <head>
    {% block head %}
      <title>{% block title %}{{ SITENAME|striptags }}{% endblock title %}</title>
      <meta charset="utf-8" />
      <meta name="generator" content="Pelican" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="color-scheme" content="light dark" />
      {% if SITESUBTITLE %}
        <meta name="description" content="{{ SITESUBTITLE }}" />
      {% endif %}
      {% if FEED_ALL_ATOM %}
        <link href="{{ FEED_DOMAIN }}/{% if FEED_ALL_ATOM_URL %}{{ FEED_ALL_ATOM_URL }}{% else %}{{ FEED_ALL_ATOM }}{% endif %}" type="application/atom+xml" rel="alternate" title="{{ SITENAME|striptags }} Full Atom Feed" />
      {% endif %}
      {% if FEED_ALL_RSS %}
        <link href="{{ FEED_DOMAIN }}/{% if FEED_ALL_RSS_URL %}{{ FEED_ALL_RSS_URL }}{% else %}{{ FEED_ALL_RSS }}{% endif %}" type="application/rss+xml" rel="alternate" title="{{ SITENAME|striptags }} Full RSS Feed" />
      {% endif %}
      {% if FEED_ATOM %}
        <link href="{{ FEED_DOMAIN }}/{%if FEED_ATOM_URL %}{{ FEED_ATOM_URL }}{% else %}{{ FEED_ATOM }}{% endif %}" type="application/atom+xml" rel="alternate" title="{{ SITENAME|striptags }} Atom Feed" />
      {% endif %}
      {% if FEED_RSS %}
        <link href="{{ FEED_DOMAIN }}/{% if FEED_RSS_URL %}{{ FEED_RSS_URL }}{% else %}{{ FEED_RSS }}{% endif %}" type="application/rss+xml" rel="alternate" title="{{ SITENAME|striptags }} RSS Feed" />
      {% endif %}
      {% if CATEGORY_FEED_ATOM and category %}
        <link href="{{ FEED_DOMAIN }}/{% if CATEGORY_FEED_ATOM_URL %}{{ CATEGORY_FEED_ATOM_URL.format(slug=category.slug) }}{% else %}{{ CATEGORY_FEED_ATOM.format(slug=category.slug) }}{% endif %}" type="application/atom+xml" rel="alternate" title="{{ SITENAME|striptags }} Categories Atom Feed" />
      {% endif %}
      {% if CATEGORY_FEED_RSS and category %}
        <link href="{{ FEED_DOMAIN }}/{% if CATEGORY_FEED_RSS_URL %}{{ CATEGORY_FEED_RSS_URL.format(slug=category.slug) }}{% else %}{{ CATEGORY_FEED_RSS.format(slug=category.slug) }}{% endif %}" type="application/rss+xml" rel="alternate" title="{{ SITENAME|striptags }} Categories RSS Feed" />
      {% endif %}
      {% if TAG_FEED_ATOM and tag %}
        <link href="{{ FEED_DOMAIN }}/{% if TAG_FEED_ATOM_URL %}{{ TAG_FEED_ATOM_URL.format(slug=tag.slug) }}{% else %}{{ TAG_FEED_ATOM.format(slug=tag.slug) }}{% endif %}" type="application/atom+xml" rel="alternate" title="{{ SITENAME|striptags }} Tags Atom Feed" />
      {% endif %}
      {% if TAG_FEED_RSS and tag %}
        <link href="{{ FEED_DOMAIN }}/{% if TAG_FEED_RSS_URL %}{{ TAG_FEED_RSS_URL.format(slug=tag.slug) }}{% else %}{{ TAG_FEED_RSS.format(slug=tag.slug) }}{% endif %}" type="application/rss+xml" rel="alternate" title="{{ SITENAME|striptags }} Tags RSS Feed" />
      {% endif %}

      <link rel="stylesheet" href="/css/nano.css" />
      <link rel="stylesheet" href="/css/style.css" />

    {% endblock head %}
  </head>

  <body>
    {% block body %}
       <div class="grid-wrapper">

      {% block header %}
      <header class="header">
        <a href="/"><img class="logo" src="/images/AEdark.png" alt="Amateur Engineering" /></a>
        <hgroup>
        <h1><a href="{{ SITEURL }}/">{{ SITENAME }}</a></h1>
        {% if SITESUBTITLE %}<p>{{ SITESUBTITLE }}</p>{% endif %}
        </hgroup>
        <hr />
      </header>
      {% endblock header %}

      <main class="main-content">
        {% block content %}
        {% endblock content %}
      </main>

      <div class="left-sidebar">
        <hgroup>
          <h4>Introduction</h4>
          <p>
            This site is a collection of makers, hackers, tinkerers, and
            creators of all types writing about their hardware and software
            projects.
          </p>
        </hgroup>
        <hgroup>
          <h3>Contributors</h3>
          <p>
            Below is a list of contributors who currently submit project updates
            to this site, scraped directly from their Github/Gitlab repos.
          </p>
          <ul>
            <li>SenWerks [<a href="">Posts</a> | <a href="">Website</a>]</li>
            <li>RobL [<a href="">Posts</a> | <a href="">Website</a>]</li>
            <li>Firnsy [<a href="">Posts</a> | <a href="">Website</a>]</li>
            <li>Fred [<a href="">Posts</a> | <a href="">Website</a>]</li>
          </ul>
          <p>
            If you would like to have your posts added to this website and share
            your projects, <a href="">submit a PR</a> and add your post repo to
            the list.
          </p>
        </hgroup>

        {% block nav %}
        <hgroup>
            <h3>Menu</h3>
            <nav><ul>
            {% for title, link in MENUITEMS %}
              <li><a href="{{ link }}">{{ title }}</a></li>
            {% endfor %}

            {% if DISPLAY_PAGES_ON_MENU %}
            {% for p in pages %}
              <li><a href="{{ SITEURL }}/{{ p.url }}" {% if p==page %} aria-current="page" {% endif %}>{{ p.title }}</a></li>
            {% endfor %}
            {% endif %}

            {% if DISPLAY_CATEGORIES_ON_MENU %}
            {% for cat, null in categories %}
              <li><a href="{{ SITEURL }}/{{ cat.url }}" {% if cat==category %} aria-current="page" {% endif %}>{{ cat}}</a></li>
            {% endfor %}
            {% endif %}
            </ul></nav>
        </hgroup>
        {% endblock nav %}

      </div>
      <footer class="footer">
        {% block footer %}
        <div class="footer-left">
          <a href="javascript:;" id="theme-toggle">Toggle Theme</a>
        </div>
        <div class="footer-center"><em>Hack The Planet</em></div>
        <div class="footer-right">
          <a href="https://bhack.in">Ï€</a>
        </div>
        {% endblock footer %}
      </footer>

    </div>
    <script>
      const themeToggle = document.getElementById("theme-toggle");
      themeToggle.addEventListener("click", () => {
        const currentTheme =
          document.documentElement.getAttribute("data-theme");
        const newTheme = currentTheme === "dark" ? "light" : "dark";
        document.documentElement.setAttribute("data-theme", newTheme);
        themeToggle.textContent =
          newTheme === "dark" ? "Light Mode" : "Dark Mode";
      });

      document.addEventListener("DOMContentLoaded", () => {
        const prefersDarkScheme = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        const currentTheme = prefersDarkScheme ? "dark" : "light";
        document.documentElement.setAttribute("data-theme", currentTheme);
        const themeToggle = document.getElementById("theme-toggle");
        themeToggle.textContent =
          currentTheme === "dark" ? "Light Mode" : "Dark Mode";
      });
    </script>


    {% endblock body %}
  </body>
</html>
